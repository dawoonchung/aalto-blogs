<?php

/**
 * Official Aalto Blogs Theme Aalto identity functionality
 *
 * @package WordPress
 * @subpackage Aalto_Blogs
 * @since Official Aalto Blogs Theme 1.0
 */

/**
 * Generates random Aalto University official emblem in SVG format
 *
 * @since Official Aalto Blogs Theme 1.0
 * @param boolean $color Option for coloured logo or non-coloured logo
 */

/* variable set globally to generate same logo within a session */
$logo_type = array(
  'q' => '<g class="symbol q"><path d="M477.2,88.7C477.2,33.1,432.9,2,369.5,2c-61.4,0-108.7,31.8-108.7,88v9h64.9c0-26.9,18.2-38.9,43-38.9c22.8,0,39,12.2,39,30.8c0,14.9-8.5,24.9-27.3,35.5c-27.3,15.4-44,33.4-44,76.4v6.4h65.2v-2.6c0-23,6.5-31.9,30.6-47.7C453.9,144.5,477.2,125.1,477.2,88.7"/><rect x="336.3" y="232.6" width="65.3" height="65.3"/></g>',
  'e' => '<g class="symbol e"><rect x="321.2" y="232.5" width="65.4" height="65.4"/><polygon points="388.7,109.4 388.7,9.4 319.3,9.4 319.3,109.4 333.4,209.3 371.8,209.3 "/></g>',
  'd' => '<g class="symbol d"><path d="M279.7,78.8h33.6c0,20.8-14.7,34.2-33.6,35.4v32.7c39.8-2.2,69.4-28.9,69.4-78.7V9.4h-69.4V78.8z"/><path d="M372.3,78.8h33.6c0,20.8-14.7,34.2-33.6,35.4v32.7c39.8-2.2,69.4-28.9,69.4-78.7V9.4h-69.4V78.8z"/></g>'
);

$logo_text = array(
	'q' => '<path d="M1344.3,29.3l-6.8,23.6c-1.2,4.6-2.1,8.2-2.7,11.7l-0.6-2.1c-1.2-4.3-1.2-4.4-2.7-9.3l-7.7-23.9h-16.4l17.2,43.9c1.8,4.5,1.9,4.9,1.9,6.7c0,4.5-2.5,6.6-7.9,6.6h-4.5v11.6h9c11.7,0,14.2-2.2,19-16.1l18.2-52.6H1344.3z M1300.1,30h-9.4V13.4h-15.4V30h-7.3v10.8h7.3v23.8c0,8.1,0.6,10.9,3,13.5c2.3,2.5,5.6,3.5,12.3,3.5h9.4V70h-5.5c-3.6,0-3.9-0.6-3.9-8.9V40.8h9.4V30z M1257.4,9.4h-15.4v12.6h15.4V9.4z M1257.4,29.3h-15.4v52.2h15.4V29.3z M1231.1,45c-1.3-11-9.5-17.1-22.9-17.1c-13.8,0-22.3,6.4-22.3,16.9c0,8.3,4.4,12.5,15.9,15l9.5,2.2c4.1,1,5.8,2.4,5.8,4.8c0,3-3.2,5.1-8,5.1c-6.2,0-9.4-2.4-10.3-7.2h-14.4c0.9,11.6,9.8,18.4,24.3,18.4s23.5-6.9,23.5-17.9c0-4.2-1.4-8.1-3.9-10.5c-2.3-2.4-5.5-3.8-11.9-5.1l-9.6-2.1c-4.9-1.1-6.4-2.1-6.4-4c0-2.6,2.9-4.3,7.3-4.3c5.1,0,8.2,2.1,8.9,5.9H1231.1z M1144.9,29.3v52.2h15.4V66.8c0-10.2,0.5-15,2-18.5c1.7-3.9,6.1-6.3,11.4-6.3c1.1,0,2.1,0.1,3.9,0.3V27.9c-11.1-0.1-15,2.3-18.1,10.7l0.4-9.3H1144.9z M1096.9,49.1c1.2-6.1,5.1-9.5,11-9.5s9.5,3.5,10.2,9.5H1096.9z M1133.9,59.9c0-6.9-0.8-11.6-2.4-15.9c-3.8-10.4-12.2-16.1-23.5-16.1c-15.7,0-26.7,11.3-26.7,27.6c0,16.4,10.7,27.5,26.8,27.5c12.4,0,22.2-6.5,25.1-16.6h-15.6c-2.2,3.2-5,4.7-9.1,4.7c-6.6,0-10.8-3.9-11.8-11H1133.9z M1057.9,81.5l17.7-52.2h-16.4l-5.3,20c-0.8,3.1-2.1,9.1-3.2,15c-1.7-6.3-3-11.4-4.1-15l-5.8-20h-16.1l18.7,52.2H1057.9z M1014.9,9.4h-15.4v12.6h15.4V9.4z M1014.9,29.3h-15.4v52.2h15.4V29.3z M937.5,29.3v52.2h15.4V52.2c0-4.5,0.5-6.7,2.3-8.7c1.6-1.8,4-2.8,6.6-2.8c2.7,0,5,1.1,6.3,3c1.3,1.9,1.6,4,1.6,9.3v28.4h15.3V47.7c0-12.3-6.9-19.9-18.3-19.9c-5.4,0-8.5,1.4-14.3,6.6v-5.1H937.5z M906.6,9.4v47.7c0,4.9-0.8,7-2.9,9.1c-2.4,2.1-5.8,3.2-9.8,3.2c-3.9,0-7.3-1.2-9.7-3.2c-2.2-2.1-2.9-4.2-2.9-9.1V9.4h-16.2v48.7c0,9.1,2.4,14.8,7.8,18.8c5.5,4,12.9,6.2,21.1,6.2c8.3,0,15.7-2.2,21.2-6.2c5.4-4,7.8-9.7,7.8-18.8V9.4H906.6z M800.5,40.1c7.9,0,12.3,5.5,12.3,15.6c0,9.4-4.5,15-12.3,15c-7.8,0-12.2-5.6-12.2-15.4C788.3,45.7,792.7,40.1,800.5,40.1 M800.5,27.9c-16.2,0-27.7,11.5-27.7,27.5c0,16.2,11.5,27.6,27.7,27.6c16.1,0,27.8-11.3,27.8-27.1C828.3,39.3,817.1,27.9,800.5,27.9 M766,30h-9.4V13.4h-15.4V30h-7.4v10.8h7.4v23.8c0,8.1,0.6,10.9,3,13.5c2.3,2.5,5.6,3.5,12.3,3.5h9.4V70h-5.5c-3.6,0-3.9-0.6-3.9-8.9V40.8h9.4V30z M724.4,9.4h-15.4v72.1h15.4V9.4z M681.1,64.7c-2.5,4.4-6.2,6.6-11.2,6.6c-4.8,0-7.8-2.1-7.8-5.5c0-3.1,2.4-5,7.9-6.3l5.5-1.2c2.6-0.5,4-1,5.6-1.6V64.7z M663.3,45.7c0.6-4.2,3.7-6.3,9.2-6.3c5.1,0,8.1,1.8,8.1,4.9c0,2.1-1.2,3-4.6,3.6l-8.3,1.4c-14.6,2.4-20.8,7.5-20.8,17.2c0,9.8,7.7,16.4,19.1,16.4c6.3,0,9.8-1.3,15-5.5c0.5,1.9,0.5,2.3,1.2,4.1h15.7c-1.7-2.6-1.9-3.4-1.9-9v-24c0-7.8-1.4-11.9-5.2-15.2c-4.1-3.7-10.2-5.5-18.1-5.5c-14.7,0-22.2,5.8-23.1,17.9H663.3z M616.5,53.7h-16.3l8.8-28.2L616.5,53.7z M620.1,67l3.9,14.5h18.4L619.5,9.4h-20.2l-25.2,72.1h17.6l4.5-14.5H620.1z"/>',
	'e' => '<path d="M1262.5,29.3l-6.8,23.6c-1.2,4.6-2.1,8.2-2.7,11.7l-0.6-2.1c-1.2-4.3-1.2-4.4-2.7-9.3l-7.7-23.9h-16.4l17.2,43.9c1.8,4.5,1.9,4.9,1.9,6.7c0,4.5-2.5,6.6-7.9,6.6h-4.5V98h9c11.7,0,14.2-2.2,19-16.1l18.2-52.6H1262.5z M1218.3,29.9h-9.4V13.4h-15.4v16.5h-7.3v10.8h7.3v23.8c0,8.1,0.6,10.9,3,13.5c2.3,2.5,5.6,3.5,12.3,3.5h9.4V69.9h-5.5c-3.6,0-3.9-0.6-3.9-8.9V40.8h9.4V29.9z M1175.6,9.4h-15.4V22h15.4V9.4z M1175.6,29.3h-15.4v52.2h15.4V29.3z M1149.2,45c-1.3-11-9.5-17.1-22.9-17.1c-13.8,0-22.3,6.4-22.3,16.9c0,8.3,4.4,12.5,15.9,15l9.5,2.2c4.1,1,5.8,2.4,5.8,4.8c0,3-3.2,5.1-8,5.1c-6.2,0-9.4-2.4-10.3-7.2h-14.4c0.9,11.6,9.8,18.4,24.3,18.4s23.5-6.9,23.5-17.9c0-4.2-1.4-8.1-3.9-10.5c-2.3-2.4-5.5-3.8-11.9-5.1l-9.6-2.1c-4.9-1.1-6.4-2.1-6.4-4c0-2.6,2.9-4.3,7.3-4.3c5.1,0,8.2,2.1,8.9,5.9H1149.2z M1063,29.3v52.2h15.4V66.8c0-10.2,0.5-15,2-18.5c1.7-3.9,6.1-6.3,11.4-6.3c1.1,0,2.1,0.1,3.9,0.3V27.9c-11.1-0.1-15,2.3-18.1,10.7l0.4-9.3H1063z M1015.1,49.1c1.2-6.1,5.1-9.5,11-9.5c5.9,0,9.5,3.5,10.2,9.5H1015.1z M1052,59.9c0-6.9-0.8-11.6-2.4-15.9c-3.8-10.4-12.2-16.1-23.5-16.1c-15.7,0-26.7,11.3-26.7,27.6c0,16.4,10.7,27.5,26.8,27.5c12.4,0,22.2-6.5,25.1-16.6h-15.6c-2.2,3.2-5,4.7-9.1,4.7c-6.6,0-10.8-3.9-11.8-11H1052z M976,81.5l17.7-52.2h-16.4l-5.3,20c-0.8,3.1-2.1,9.1-3.2,15c-1.7-6.3-3-11.4-4.1-15l-5.8-20h-16.1l18.7,52.2H976z M933,9.4h-15.4V22H933V9.4z M933,29.3h-15.4v52.2H933V29.3z M855.6,29.3v52.2H871V52.2c0-4.5,0.5-6.7,2.3-8.7c1.6-1.8,4-2.8,6.6-2.8c2.7,0,5,1.1,6.3,3c1.3,2,1.6,4,1.6,9.3v28.4h15.3V47.7c0-12.3-6.9-19.9-18.3-19.9c-5.4,0-8.5,1.4-14.3,6.6v-5.1H855.6z M824.7,9.4v47.7c0,4.9-0.8,7-2.9,9.1c-2.4,2.1-5.8,3.2-9.8,3.2c-3.9,0-7.3-1.2-9.7-3.2c-2.2-2.1-2.9-4.2-2.9-9.1V9.4h-16.2v48.8c0,9.1,2.4,14.8,7.8,18.8c5.5,4,12.9,6.2,21.1,6.2c8.3,0,15.7-2.2,21.2-6.2c5.4-4,7.8-9.7,7.8-18.8V9.4H824.7z M718.6,40.1c7.9,0,12.3,5.5,12.3,15.6c0,9.4-4.5,15-12.3,15c-7.8,0-12.2-5.6-12.2-15.4C706.4,45.7,710.9,40.1,718.6,40.1 M718.6,27.9c-16.2,0-27.7,11.5-27.7,27.5c0,16.2,11.5,27.6,27.7,27.6c16.1,0,27.8-11.3,27.8-27.1C746.4,39.2,735.2,27.9,718.6,27.9 M684.2,29.9h-9.4V13.4h-15.4v16.5H652v10.8h7.4v23.8c0,8.1,0.6,10.9,3,13.5c2.3,2.5,5.6,3.5,12.3,3.5h9.4V69.9h-5.5c-3.6,0-3.9-0.6-3.9-8.9V40.8h9.4V29.9z M642.5,9.4h-15.4v72.1h15.4V9.4z M599.2,64.6c-2.5,4.4-6.2,6.6-11.2,6.6c-4.8,0-7.8-2.1-7.8-5.5c0-3.1,2.4-5,7.9-6.3l5.5-1.2c2.6-0.5,4-1,5.6-1.6V64.6z M581.5,45.7c0.6-4.2,3.7-6.3,9.2-6.3c5.1,0,8.1,1.8,8.1,4.9c0,2.1-1.2,3-4.6,3.6l-8.3,1.4c-14.6,2.4-20.8,7.5-20.8,17.2c0,9.8,7.7,16.4,19.1,16.4c6.3,0,9.8-1.3,15-5.5c0.5,1.9,0.5,2.3,1.2,4.1H616c-1.7-2.6-1.9-3.4-1.9-9v-24c0-7.8-1.4-11.9-5.2-15.2c-4.1-3.7-10.2-5.5-18.1-5.5c-14.7,0-22.2,5.8-23.1,17.9H581.5z M534.6,53.7h-16.3l8.8-28.2L534.6,53.7z M538.2,67l3.9,14.5h18.4L537.6,9.4h-20.2l-25.2,72.1h17.6l4.5-14.5H538.2z"/>',
	'd' => '<path d="M1321.9,28.7l-6.8,23.7c-1.2,4.7-2.1,8.3-2.7,11.7l-0.7-2.1c-1.2-4.3-1.2-4.5-2.7-9.3l-7.7-24h-16.5l17.3,44.1c1.8,4.6,2,4.9,2,6.7c0,4.6-2.5,6.6-7.9,6.6h-4.6v11.6h9c11.7,0,14.2-2.2,19.1-16.2l18.2-52.9H1321.9z M1277.4,29.3h-9.4V12.7h-15.4v16.6h-7.4v10.9h7.4v23.9c0,8.1,0.7,11,3,13.6c2.3,2.5,5.6,3.5,12.4,3.5h9.4V69.5h-5.5c-3.6,0-3.9-0.7-3.9-8.9V40.2h9.4V29.3z M1234.5,8.7h-15.4v12.7h15.4V8.7z M1234.5,28.7h-15.4v52.5h15.4V28.7z M1208,44.4c-1.3-11.1-9.6-17.2-23-17.2c-13.9,0-22.4,6.4-22.4,16.9c0,8.4,4.5,12.6,16,15.1l9.6,2.2c4.1,1,5.9,2.4,5.9,4.8c0,3-3.3,5.1-8,5.1c-6.2,0-9.4-2.4-10.3-7.3h-14.4c0.9,11.6,9.9,18.5,24.4,18.5s23.6-7,23.6-18c0-4.2-1.4-8.1-3.9-10.5c-2.3-2.4-5.5-3.8-11.9-5.1l-9.7-2.1c-4.9-1.1-6.4-2.1-6.4-4c0-2.6,2.9-4.3,7.4-4.3c5.1,0,8.3,2.1,8.9,6H1208z M1121.4,28.7v52.5h15.4V66.4c0-10.2,0.5-15.1,2.1-18.6c1.7-3.9,6.1-6.3,11.4-6.3c1.1,0,2.1,0.1,3.9,0.3V27.3c-11.2-0.1-15.1,2.3-18.1,10.8l0.4-9.3H1121.4z M1073.2,48.6c1.2-6.1,5.1-9.6,11.1-9.6s9.6,3.5,10.2,9.6H1073.2z M1110.4,59.4c0-7-0.8-11.6-2.4-16c-3.8-10.4-12.3-16.2-23.6-16.2c-15.8,0-26.8,11.4-26.8,27.7c0,16.5,10.8,27.6,26.9,27.6c12.5,0,22.3-6.5,25.2-16.7h-15.6c-2.2,3.3-5,4.7-9.1,4.7c-6.6,0-10.9-3.9-11.8-11.1H1110.4z M1034,81.2l17.8-52.5h-16.5l-5.3,20.1c-0.8,3.1-2.1,9.1-3.3,15.1c-1.7-6.3-3-11.4-4.1-15.1l-5.9-20.1h-16.2l18.8,52.5H1034z M990.8,8.7h-15.4v12.7h15.4V8.7z M990.8,28.7h-15.4v52.5h15.4V28.7z M913,28.7v52.5h15.4V51.7c0-4.6,0.5-6.7,2.3-8.7c1.6-1.8,4-2.8,6.6-2.8c2.7,0,5,1.1,6.3,3c1.3,2,1.6,4,1.6,9.3v28.6h15.4v-34c0-12.4-7-20-18.4-20c-5.4,0-8.6,1.4-14.3,6.6v-5.1H913z M881.9,8.7v47.9c0,4.9-0.8,7.1-2.9,9.1c-2.4,2.1-5.9,3.3-9.9,3.3c-3.9,0-7.4-1.2-9.8-3.3c-2.2-2.1-2.9-4.2-2.9-9.1V8.7h-16.3v49c0,9.1,2.4,14.9,7.8,18.9c5.5,4,12.9,6.2,21.2,6.2c8.4,0,15.8-2.2,21.3-6.2c5.4-4,7.8-9.8,7.8-18.9v-49H881.9z M775.4,39.6c7.9,0,12.4,5.5,12.4,15.6c0,9.5-4.6,15.1-12.4,15.1c-7.8,0-12.3-5.6-12.3-15.4C763.1,45.2,767.5,39.6,775.4,39.6 M775.4,27.3c-16.3,0-27.8,11.5-27.8,27.6c0,16.3,11.5,27.7,27.8,27.7c16.2,0,27.9-11.4,27.9-27.3C803.3,38.7,792,27.3,775.4,27.3 M740.7,29.3h-9.4V12.7h-15.4v16.6h-7.4v10.9h7.4v23.9c0,8.1,0.7,11,3,13.6c2.3,2.5,5.6,3.5,12.4,3.5h9.4V69.5h-5.5c-3.6,0-3.9-0.7-3.9-8.9V40.2h9.4V29.3z M698.9,8.7h-15.4v72.5h15.4V8.7z M655.3,64.2c-2.5,4.5-6.2,6.6-11.3,6.6c-4.8,0-7.8-2.1-7.8-5.5c0-3.1,2.4-5,7.9-6.3l5.5-1.2c2.6-0.5,4-1,5.6-1.6V64.2z M637.5,45.2c0.7-4.2,3.7-6.3,9.2-6.3c5.1,0,8.1,1.8,8.1,4.9c0,2.1-1.2,3-4.7,3.6l-8.4,1.4c-14.7,2.4-20.9,7.5-20.9,17.3c0,9.9,7.7,16.5,19.2,16.5c6.3,0,9.9-1.3,15.1-5.5c0.5,2,0.5,2.3,1.2,4.1h15.7c-1.7-2.6-2-3.4-2-9V48c0-7.8-1.4-11.9-5.2-15.3c-4.1-3.7-10.2-5.5-18.1-5.5c-14.8,0-22.3,5.9-23.2,18H637.5z M590.5,53.2h-16.4l8.8-28.4L590.5,53.2z M594.1,66.6l3.9,14.6h18.5l-23-72.5h-20.3l-25.3,72.5h17.7l4.6-14.6H594.1z"/>'
);
$symbol = array_rand( $logo_type );

function generate_aalto_logo( $color = 'white', $text = false ) {
  global $symbol, $logo_type, $logo_text;
  $full_logo = $text ? ' full-logo' : '';
  $view_width = $text ? 1365 : 480;
  $class = 'aalto-logo aalto-logo-' . $symbol . $full_logo;

//  if ( $color ) {
//    $color = array( 'red', 'blue', 'yellow' );
//    $class .= ' ' . $color[ array_rand( $color ) ];
//  }

  $output = '<svg version="1.1" class="'. $class . '" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ' . $view_width . ' 300" style="fill: ' . $color . ';">';
  $output .= '<path class="a" d="M184,189.3h-71.2l35.6-102.8L184,189.3z M294.1,297.9L191.9,9.4h-87L2.7,297.9h72.5l17.7-51.1h111l17.7,51.1H294.1z"/>';
  $output .= $logo_type[ $symbol ];
  if ( $text ) {
    $output .= $logo_text[ $symbol ];
  }
  $output .= '</svg>';

  echo $output;
}

/**
 * Generates random Aalto University colour scheme
 *
 * @since Official Aalto Blogs Theme 1.0
 */
$aalto_colour_list = array(
  'aalto-blue'        => '005EB8',
  'aalto-red'         => 'EF3340',
  'aalto-yellow'      => 'FFCD00',
  'aalto-light-green' => '78BE20',
  'aalto-green'       => '00965E',
  'aalto-purple'      => '753BBD',
  'aalto-magenta'     => 'BB16A3',
  'aalto-orange'      => 'FF671F',
  'aalto-dark-yellow' => 'FFA500',
//  'aalto-grey'      => '8C857B'
);

$aalto_colour_key = array_rand( $aalto_colour_list );

$aalto_colour = '#' . $aalto_colour_list[ $aalto_colour_key ];

/**
 * Aalto search form
 *
 * @since Official Aalto Blogs Theme 1.0
 */
function get_aalto_search_form() {
?>

<form role="search" method="get" class="search-form aalto-search-form" action="http://www.aalto.fi/en/search" target="_blank">
  <button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
  <label>
    <span class="screen-reader-text">Search in all Aalto websites:</span>
    <input type="search" class="search-field" name="s" title="Search in all Aalto websites:" placeholder="Search in all Aalto websites" />
  </label>
</form>

<?php
}

?>
